name: mail_nano_templates
description: Nano-Agent Templates f√ºr Mail-Operationen
version: 1.0.0
category: mail_operations

templates:
  - name: imap_connect
    type: nano
    description: Stelle IMAP-Verbindung her
    action_type: api_call
    input_schema:
      required:
        - server
        - port
        - username
        - password
      properties:
        server:
          type: string
          description: IMAP Server Adresse
        port:
          type: integer
          default: 993
        username:
          type: string
        password:
          type: string
        use_ssl:
          type: boolean
          default: true
    output_schema:
      properties:
        connected:
          type: boolean
        connection_id:
          type: string
        mailbox_count:
          type: integer

  - name: fetch_emails
    type: nano
    description: Hole E-Mails aus Postfach
    action_type: api_call
    input_schema:
      required:
        - connection_id
        - folder
      properties:
        connection_id:
          type: string
        folder:
          type: string
          default: INBOX
        limit:
          type: integer
          default: 50
        unread_only:
          type: boolean
          default: false
    output_schema:
      properties:
        emails:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
              subject:
                type: string
              from:
                type: string
              date:
                type: string
              body:
                type: string
              attachments:
                type: array

  - name: parse_email_content
    type: nano
    description: Parse E-Mail Inhalt und extrahiere Informationen
    action_type: text_processing
    input_schema:
      required:
        - email_content
      properties:
        email_content:
          type: string
        extract_entities:
          type: boolean
          default: true
        extract_dates:
          type: boolean
          default: true
    output_schema:
      properties:
        parsed_content:
          type: object
          properties:
            plain_text:
              type: string
            entities:
              type: array
            dates:
              type: array
            phone_numbers:
              type: array
            urls:
              type: array

  - name: classify_email
    type: nano
    description: Klassifiziere E-Mail nach Typ
    action_type: classification
    input_schema:
      required:
        - email_content
        - subject
      properties:
        email_content:
          type: string
        subject:
          type: string
        sender:
          type: string
    output_schema:
      properties:
        category:
          type: string
          enum: [appointment, inquiry, order, complaint, newsletter, spam, other]
        confidence:
          type: number
        subcategory:
          type: string
        urgent:
          type: boolean

  - name: save_email_to_db
    type: nano
    description: Speichere E-Mail in Datenbank
    action_type: db_write
    table_name: emails
    input_schema:
      required:
        - email_data
      properties:
        email_data:
          type: object
        tags:
          type: array
          items:
            type: string
    output_schema:
      properties:
        saved:
          type: boolean
        email_id:
          type: string
        timestamp:
          type: string